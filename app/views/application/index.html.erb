<%= javascript_include_tag 'calendar', 'data-turbolinks-track' => true %>
<%= javascript_include_tag 'isomer.min', 'data-turbolinks-track' => true %>
<%= javascript_include_tag 'graphics_manager', 'data-turbolinks-track' => true %>
<%= javascript_include_tag 'grid', 'data-turbolinks-track' => true %>

<div class='index-page'>
  <div class='row'>
    <%= form_tag root_path, method: :get do %>
      <%= text_field_tag 'github', nil,  placeholder: 'Your GitHub username', class: 'offset-by-three four columns' %>
      <%= submit_tag 'Go', class: 'two columns', name: nil %>
    <% end %>    
  </div>
  <% if @github.present? %>
    <p class='row offset-by-four four columns'>Here's <%= @github %>'s contributions calendar.</p>
  <% end %>
  <canvas width='1600' height='1000' id='calendar'>
  <script>
    var debug;
    $(document).ready(function(){
      window.requestAnimationFrame(function (){
        new Calendar(gon.calendar, true);
      });
    });
  </script>
</div>
